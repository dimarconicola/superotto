<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Filmina ‚Äî Preventivo rapido per la digitalizzazione delle tue bobine Super 8 e 8mm a Palermo.">
  <meta name="theme-color" content="#1A1A1A">
  <title>Preventivo ‚Äî Filmina</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="funnel-page">

  <a href="#funnelBody" class="skip-link">Vai al contenuto principale</a>

  <!-- ===== Navigation ===== -->
  <nav class="navbar" role="navigation" aria-label="Navigazione principale">
    <div class="container">
      <a href="index.html" class="nav-logo" aria-label="Filmina ‚Äî Home">FILM<span class="slash">/</span>NA</a>
      <ul class="nav-links" id="navLinks" role="menubar">
        <li role="none"><a href="index.html" role="menuitem">‚Üê Torna al sito</a></li>
      </ul>
      <button class="hamburger" id="hamburger" aria-label="Apri menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- ===== Funnel Header ===== -->
  <div class="funnel-header">
    <h1>Preventivo in 60 secondi</h1>
    <p>Rispondi a poche domande, ricevi subito una stima.</p>
    <div class="progress-bar" id="progressBar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="6">
      <div class="progress-step active" data-step="0"></div>
      <div class="progress-step" data-step="1"></div>
      <div class="progress-step" data-step="2"></div>
      <div class="progress-step" data-step="3"></div>
      <div class="progress-step" data-step="4"></div>
      <div class="progress-step" data-step="5"></div>
      <div class="progress-step" data-step="6"></div>
    </div>
  </div>

  <!-- ===== Funnel Body ===== -->
  <div class="funnel-body" id="funnelBody">

    <!-- Step 0: Choose Path -->
    <div class="funnel-step active" data-step="0">
      <h2>Cosa vuoi fare?</h2>
      <p class="step-desc">Scegli il percorso pi√π adatto alla tua situazione.</p>
      <div class="path-cards">
        <div class="path-card" id="pathDigitize" role="button" tabindex="0" aria-label="Prenota digitalizzazione">
          <div class="path-icon">üéûÔ∏è</div>
          <h3>Prenota digitalizzazione</h3>
          <p>La mia pellicola √® integra e in buone condizioni.</p>
        </div>
        <div class="path-card" id="pathCheckup" role="button" tabindex="0" aria-label="Prenota check-up">
          <div class="path-icon">üîç</div>
          <h3>Prenota check-up</h3>
          <p>Ho dubbi sullo stato della pellicola o √® visibilmente rovinata.</p>
        </div>
      </div>
    </div>

    <!-- Step 1: Self-Assessment -->
    <div class="funnel-step" data-step="1">
      <h2>Autovalutazione rapida</h2>
      <p class="step-desc">Rispondi a queste 5 domande per capire se la pellicola pu√≤ essere digitalizzata direttamente.</p>

      <div class="assessment-q" data-q="1">
        <p>1. La pellicola ha un odore forte di "aceto"?</p>
        <div class="assessment-options">
          <label><input type="radio" name="q1" value="si"><span>S√¨</span></label>
          <label><input type="radio" name="q1" value="no"><span>No</span></label>
          <label><input type="radio" name="q1" value="nonso"><span>Non so</span></label>
        </div>
      </div>

      <div class="assessment-q" data-q="2">
        <p>2. La pellicola appare deformata o ondulata?</p>
        <div class="assessment-options">
          <label><input type="radio" name="q2" value="si"><span>S√¨</span></label>
          <label><input type="radio" name="q2" value="no"><span>No</span></label>
          <label><input type="radio" name="q2" value="nonso"><span>Non so</span></label>
        </div>
      </div>

      <div class="assessment-q" data-q="3">
        <p>3. Le perforazioni sono strappate o i bordi sono danneggiati?</p>
        <div class="assessment-options">
          <label><input type="radio" name="q3" value="si"><span>S√¨</span></label>
          <label><input type="radio" name="q3" value="no"><span>No</span></label>
          <label><input type="radio" name="q3" value="nonso"><span>Non so</span></label>
        </div>
      </div>

      <div class="assessment-q" data-q="4">
        <p>4. Ci sono segni di muffa, polvere eccessiva o contaminazioni?</p>
        <div class="assessment-options">
          <label><input type="radio" name="q4" value="si"><span>S√¨</span></label>
          <label><input type="radio" name="q4" value="no"><span>No</span></label>
          <label><input type="radio" name="q4" value="nonso"><span>Non so</span></label>
        </div>
      </div>

      <div class="assessment-q" data-q="5">
        <p>5. La pellicola √® spezzata o si rompe toccandola?</p>
        <div class="assessment-options">
          <label><input type="radio" name="q5" value="si"><span>S√¨</span></label>
          <label><input type="radio" name="q5" value="no"><span>No</span></label>
          <label><input type="radio" name="q5" value="nonso"><span>Non so</span></label>
        </div>
      </div>

      <div class="funnel-nav">
        <button class="btn btn-secondary" data-prev>‚Üê Indietro</button>
        <button class="btn btn-primary" data-next>Avanti ‚Üí</button>
      </div>
    </div>

    <!-- Step 2: Volume Estimation -->
    <div class="funnel-step" data-step="2">
      <h2>Quante bobine hai?</h2>
      <p class="step-desc">Inserisci il numero e il tipo delle bobine per stimare i minuti totali.</p>

      <div class="volume-field">
        <label for="reelType">Tipo di pellicola</label>
        <select id="reelType">
          <option value="super8">Super 8</option>
          <option value="8mm">8mm</option>
          <option value="miste">Miste</option>
        </select>
      </div>

      <p style="font-weight: 600; margin-bottom: 1rem;">Quante bobine per dimensione?</p>
      <div class="reel-sizes">
        <div class="reel-size-item">
          <label for="reelSmall">Piccola</label>
          <div class="size-info">3‚Äì5 minuti</div>
          <input type="number" id="reelSmall" min="0" max="30" value="0">
        </div>
        <div class="reel-size-item">
          <label for="reelMedium">Media</label>
          <div class="size-info">8‚Äì12 minuti</div>
          <input type="number" id="reelMedium" min="0" max="30" value="0">
        </div>
        <div class="reel-size-item">
          <label for="reelLarge">Grande</label>
          <div class="size-info">15‚Äì20 minuti</div>
          <input type="number" id="reelLarge" min="0" max="30" value="0">
        </div>
        <div class="reel-size-item">
          <label for="reelXL">Molto grande</label>
          <div class="size-info">25‚Äì35 minuti</div>
          <input type="number" id="reelXL" min="0" max="30" value="0">
        </div>
      </div>

      <div style="margin-top: 1.5rem; padding: 1rem; background: var(--white); border-radius: var(--radius); box-shadow: var(--shadow-sm);">
        <p style="color: var(--dust-grey); font-size: 0.875rem;">Minuti stimati</p>
        <p id="estimatedMinutes" style="font-family: var(--font-heading); font-size: 1.75rem; font-weight: 700;">0 min</p>
      </div>

      <div class="funnel-nav">
        <button class="btn btn-secondary" data-prev>‚Üê Indietro</button>
        <button class="btn btn-primary" data-next>Avanti ‚Üí</button>
      </div>
    </div>

    <!-- Step 3: Tier Assignment -->
    <div class="funnel-step" data-step="3">
      <h2>Il tuo preventivo</h2>
      <p class="step-desc">Ecco la fascia di prezzo basata sui minuti stimati.</p>

      <div class="tier-display">
        <div class="tier-minutes" id="tierMinutes">‚Äì</div>
        <div class="tier-price" id="tierPrice">‚Äì</div>
        <div class="tier-advance" id="tierAdvance">‚Äì</div>
        <div class="tier-clean" id="tierClean">‚Äì</div>
      </div>

      <div class="funnel-nav">
        <button class="btn btn-secondary" data-prev>‚Üê Indietro</button>
        <button class="btn btn-primary" data-next>Avanti ‚Üí</button>
      </div>
    </div>

    <!-- Step 4: Add-ons -->
    <div class="funnel-step" data-step="4">
      <h2>Opzioni aggiuntive</h2>
      <p class="step-desc">Seleziona le opzioni che ti interessano (facoltativo).</p>

      <div class="addon-list">
        <label class="addon-item">
          <input type="checkbox" name="addon" value="clean">
          <div class="addon-info">
            <strong>Clean+</strong>
            <span>Stabilizzazione, flicker, colore, denoise</span>
          </div>
        </label>
        <label class="addon-item">
          <input type="checkbox" name="addon" value="master">
          <div class="addon-info">
            <strong>Master Export (ProRes/DNxHR)</strong>
            <span>+‚Ç¨30</span>
          </div>
        </label>
        <label class="addon-item">
          <input type="checkbox" name="addon" value="drive">
          <div class="addon-info">
            <strong>Consegna su nostro disco</strong>
            <span>+‚Ç¨15</span>
          </div>
        </label>
        <label class="addon-item">
          <input type="checkbox" name="addon" value="download">
          <div class="addon-info">
            <strong>Download via link</strong>
            <span>Incluso</span>
          </div>
        </label>
        <label class="addon-item">
          <input type="checkbox" name="addon" value="urgenza">
          <div class="addon-info">
            <strong>Urgenza (48‚Äì72h)</strong>
            <span>+25% sul totale</span>
          </div>
        </label>
      </div>

      <div class="funnel-nav">
        <button class="btn btn-secondary" data-prev>‚Üê Indietro</button>
        <button class="btn btn-primary" data-next>Avanti ‚Üí</button>
      </div>
    </div>

    <!-- Step 5: Identity & Declarations -->
    <div class="funnel-step" data-step="5">
      <h2>I tuoi dati</h2>
      <p class="step-desc">Inserisci le informazioni per completare la prenotazione.</p>

      <div class="form-field">
        <label for="userName">Nome e cognome *</label>
        <input type="text" id="userName" required placeholder="Mario Rossi">
      </div>
      <div class="form-field">
        <label for="userPhone">Telefono (WhatsApp) *</label>
        <input type="tel" id="userPhone" required placeholder="+39 333 1234567">
      </div>
      <div class="form-field">
        <label for="userEmail">Email *</label>
        <input type="email" id="userEmail" required placeholder="mario@esempio.it">
      </div>
      <div class="form-field">
        <label for="userComune">Comune *</label>
        <input type="text" id="userComune" required placeholder="Palermo">
      </div>

      <div class="declarations">
        <h3>Dichiarazioni obbligatorie</h3>
        <label class="declaration-item">
          <input type="checkbox" name="decl" value="owner" required>
          <span>Dichiaro di essere il proprietario o avere l'autorizzazione alla digitalizzazione del materiale.</span>
        </label>
        <label class="declaration-item">
          <input type="checkbox" name="decl" value="image" required>
          <span>Comprendo che il servizio riguarda solo l'immagine (niente audio).</span>
        </label>
        <label class="declaration-item">
          <input type="checkbox" name="decl" value="quality" required>
          <span>Comprendo che la qualit√† del risultato dipende dallo stato della pellicola originale.</span>
        </label>
        <label class="declaration-item">
          <input type="checkbox" name="decl" value="retention" required>
          <span>Comprendo che i file vengono conservati massimo 15 giorni, poi cancellati.</span>
        </label>
        <label class="declaration-item">
          <input type="checkbox" name="decl" value="tos" required>
          <span>Accetto i Termini di Servizio e la Privacy Policy.</span>
        </label>
      </div>

      <div class="funnel-nav">
        <button class="btn btn-secondary" data-prev>‚Üê Indietro</button>
        <button class="btn btn-primary" data-next id="submitBtn">Invia richiesta ‚Üí</button>
      </div>
    </div>

    <!-- Step 6: Result -->
    <div class="funnel-step" data-step="6">
      <!-- Path A: Digitization -->
      <div class="result-card" id="resultDigitize" style="display: none;">
        <div class="result-icon">‚úÖ</div>
        <h2>Richiesta inviata!</h2>
        <p class="result-summary">Ecco il riepilogo della tua prenotazione di digitalizzazione.</p>
        <div class="result-details" id="resultDetails">
          <!-- Filled by JS -->
        </div>
        <a href="index.html" class="btn btn-primary">Torna alla home</a>
      </div>

      <!-- Path B: Check-up -->
      <div class="result-card" id="resultCheckup" style="display: none;">
        <div class="result-icon">üîç</div>
        <h2>Check-up consigliato</h2>
        <p class="result-summary">In base alle risposte, √® consigliata un'ispezione professionale prima della digitalizzazione.</p>
        <div class="result-risk" id="resultRisk">
          <h3>Criticit√† rilevate:</h3>
          <ul id="riskList">
            <!-- Filled by JS -->
          </ul>
        </div>
        <div class="result-details">
          <div class="detail-row">
            <span>Check-up pellicola</span>
            <span>‚Ç¨30</span>
          </div>
          <div class="detail-row">
            <span>Se procedi con l'ordine</span>
            <span>Scalato dal totale</span>
          </div>
        </div>
        <a href="index.html" class="btn btn-teal">Prenota check-up ‚Ç¨30</a>
      </div>

      <!-- Path C: Not eligible -->
      <div class="result-card" id="resultNotEligible" style="display: none;">
        <div class="result-icon">‚ö†Ô∏è</div>
        <h2>Alta probabilit√† di rischio</h2>
        <p class="result-summary">In base alle risposte, la pellicola potrebbe non essere idonea alla scansione standard. Ti consigliamo di consultare un laboratorio specializzato in restauro pellicola.</p>
        <a href="index.html" class="btn btn-secondary">Torna alla home</a>
      </div>
    </div>

  </div>

  <script src="js/funnel.js"></script>
</body>
</html>
